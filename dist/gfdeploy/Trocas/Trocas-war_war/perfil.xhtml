<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Sistema de Trocas</title>
    </h:head>

    
    <h:body>
        <style type="text/css">
     .centeredMenuBar.ui-menubar {
    text-align: center;
    }

    .centeredMenuBar .ui-menu-list {
    display: inline-block;
    }
    </style>
              
        <h:panelGrid style="width:100%; height:100%;" columns="1">
            
            <h:form>
                    <a href="faces/listaitens.xhtml">
                    <button type="button">Listar Meus Itens</button>
                </a>
                 <a href="faces/usuariochats.xhtml">
                    <button type="button">Chats Itens Interessados</button>
                </a>
                
                <p:clientValidator event ="#{usuarioMBean.ValidarUsuario()}"/>
                <p:menubar styleClass="centeredMenuBar">
 
                
                <f:facet name="options" >
                    <h1><h:outputText style="align-content: center; align-self: center; justify-content: center" value="Cadastrar um novo item"/></h1>
                    <p:inputText id ="titulo" value="#{usuarioMBean.titulo}" size="30" maxlength="30" 
                                 style="margin:1px 10px 1px 1px;" placeholder="Titulo: "/>
                    <p:inputText id ="descricao" value="#{usuarioMBean.descricao}" 
                                 style="margin:1px 10px 1px 1px;" placeholder="Descrição: "/>
                    <p:commandButton value="Cadastrar Item" icon="ui-icon-star" action="#{usuarioMBean.criarItem()}" ajax="false"/>  
              
                </f:facet>
             
                
                 
                </p:menubar>
                <br></br>
                         <p:outputPanel>
                                
                                <h:outputText value="Procure o item desejado:  " />
                                <h:inputText id="filtro" value="#{itemMBean.filtro}" onkeyup="PF('item').filter()" style="width:150px" />
                                <p:commandButton value="Pesquisar Item" icon="ui-icon-star" action="#{itemMBean.Pesquisar()}" ajax="false"/>  
                                <p:commandButton value="Cancelar" icon="ui-icon-star" action="#{itemMBean.CancelarPesquisar()}" ajax="false"/>  
              
              
                            </p:outputPanel>
                 <br></br>
                      <p:dataTable id = "tabelaItem" var="item" value="#{itemMBean.listaItem}">
                          <f:facet name="header">
                              Lista de Todos os Itens 
                            </f:facet>
                      
                        
                   
                        <p:column headerText="Titulo">
                            <h:outputText id ="titulo" value="#{item.titulo}" /> 
                    </p:column>
                        <p:column headerText="Descrição">
                        <h:outputText id ="descricao" value="#{item.descricao}" /> 
                        </p:column>
                          <p:column> <p:commandButton process="@this tabelaItem"  action="#{usuarioMBean.setItemSelecionado(item)}" value="visualizar">                     
                      </p:commandButton></p:column>
                    </p:dataTable>
                        <div >
                
                            
            </div>   
                </h:form>

                      
                     
         </h:panelGrid>
         <p:commandButton action="#{usuarioMBean.Sair()}" value="Sair">                     
          </p:commandButton>
    </h:body>
    
</html>



